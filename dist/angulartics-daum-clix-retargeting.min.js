!function(window,angular,undefined){"use strict";var refererShared="",roosevelt=function(d){var a=d.document,b=d.location,e={$:function(g){return a.getElementById(g)},isArray:function(g){return g&&"object"==typeof g&&g instanceof Array},isObject:function(g){return g&&"object"==typeof g&&!(g instanceof Array)},isFunction:function(g){return g&&"function"==typeof g},isString:function(g){return"string"==typeof g&&g.length>0},isNumeric:function(g){return!isNaN(parseFloat(g))&&isFinite(g)},log:function(){var g=d.console,h=function(){};return g&&"function"==typeof g.log&&(h=function(i){g.log(i)}),h}(),stringify:function(g){var i=e.isObject(d.JSON)&&d.JSON,j=i&&e.isFunction(i.stringify)&&i.stringify,h="";return h=e.isObject(g)?j?j(g):e.objectToString(g):e.isArray(g)?j?j(g):e.arrayToString(g):""+g},objectToString:function(h){var g,j,i="";if(!e.isObject(h))return i;for(g in h)h.hasOwnProperty(g)&&(j=h[g],e.isObject(j)?j=e.objectToString(j):e.isArray(j)?j=e.arrayToString(j):(j=""+j,j='"'+j.replace(/\"/g,'\\"')+'"'),g=g.replace(/\"/g,'\\"'),i+='"'+g+'":'+j+",");return e.isString(i)&&(i=i.substr(0,i.length-1)),i="{"+i+"}"},arrayToString:function(h){var k,j,g,l="";if(!e.isArray(h))return l;for(j=0,g=h.length;g>j;j++)k=h[j],e.isObject(k)?l+=e.objectToString(k):e.isArray(k)?l+=e.arrayToString(k):(k=""+k,k=k.replace(/\"/g,'\\"'),l+='"'+k+'"'),l+=",";return e.isString(l)&&(l=l.substr(0,l.length-1)),l="["+l+"]"},inArray:function(i,h,j){var g;if(h){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(h,i,j);for(g=h.length,e.isNumeric(j)||(j=0),0>j&&(j=Math.max(0,g+j));g>j;){if(j in h&&h[j]===i)return j;j+=1}}return-1}},f=e.isObject(d.roosevelt_params)?d.roosevelt_params:{},c={VERSION:"1.0.3",cache:{roo:{},qry:{},doc:{}}};return c.controller=function(){var i=function(){var r,o,v,q,t,s=d.location.search.substr(1),p=s.length>0?s.split("&"):[],u={};for(r=0,o=p.length;o>r;r++)v=p[r].split("="),v.length>0&&e.isString(v[0])&&(q=v[0],t=e.isString(v[1])?v[1]:"",u[q]=t);return u},h=function(){var o={url:b.href,charset:a.characterSet||a.charset||"",referer:refererShared||a.referrer||""};return o},n=function(o){o=e.isObject(o)?o:c.cache;var p=e.isObject(o.doc)&&e.isString(o.doc.url);return p},k=function(o){o=e.isObject(o)?o:c.cache;var p,s,q="",r=function(w,v){var t,x,y=[];if(v=e.isString(v)?v:"",e.isObject(w))for(t in w)if(w.hasOwnProperty(t)){try{x=e.stringify(w[t])}catch(u){x=w[t]}x=encodeURIComponent(x),y.push(v+t+"="+x)}return y.length>0?y.join("&"):""};return p=r(o.roo,"roo_"),s=r(o.doc,"doc_"),q=e.isString(p)?p+"&"+s:s,q=encodeURIComponent(q)},l=function(o){o&&(o.onload=o.onerror=function(){o.onload=null,o.onerror=null})},g=function(s){var r,o,u="https:"===b.protocol?"https://":"http://",q=["wat.ad.daum.net","wat.daumdn.com"],t="/aac",p=[];if(e.isString(s))for(r=0,o=q.length;o>r;r++)p[r]=a.createElement("img"),p[r].width=1,p[r].height=1,l(p[r]),p[r].src=u+q[r]+t+"?d="+s},j=function(){var p=c.cache.qry,o=p.hasOwnProperty("ddn_retargeting_test")&&"on"===p.ddn_retargeting_test;return o},m=function(){var q,o=c.cache,p=!1;o.qry=i(),o.doc=h(),o.roo=f,p=n(o),p&&(q=k(o),q+=encodeURIComponent("&jsver="+c.VERSION),g(q),j()&&alert("it works"))};return{init:m}}(),{e:e,c:c}};angular.module("angulartics.daum.clix.retargeting",["angulartics"]).config(["$analyticsProvider",function($analyticsProvider){angulartics.waitForVendorApi("roosevelt_params",500,function(f){var rooseveltInstance=roosevelt(window);$analyticsProvider.registerPageTrack(function(path){var h=window.Roosevelt={VERSION:rooseveltInstance.c.VERSION,tagLabels:[],run:rooseveltInstance.c.controller.init},g=f.tag_label;rooseveltInstance.c.controller.init(),rooseveltInstance.e.isString(g)&&h.tagLabels.push(g),refererShared=location.protocol+"//"+location.host+path})})}])}(window,window.angular);
//# sourceMappingURL=../dist/angulartics-daum-clix-retargeting.min.js.map